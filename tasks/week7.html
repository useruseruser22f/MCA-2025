<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Week 7 – Metadata Rendering</title>
  <link rel="stylesheet" href="../css/myMeta.css" />
  <link rel="stylesheet" href="../css/style.css" />
  <script src="../js/CETEI.js"></script>
</head>

<body>
<main class="content">

  <nav class="tabs">
      <a href="../index.html" class="tab">Week 1</a>
      <a href="week2.html" class="tab">Week 2</a>
      <a href="week3.html" class="tab">Week 3</a>
      <a href="week4.html" class="tab">Week 4</a>
      <a href="week5.html" class="tab">Week 5</a>
      <a href="week7.html" class="tab active">Week 7</a>
      <a href="week8.html" class="tab">Week 8</a>
      <a href="week9.html" class="tab">Week 9</a>
      <a href="week10.html" class="tab">Week 10</a>
  </nav>

  <h1>Week 7 – Curating Metadata and Displaying MEI on the Web</h1>

  <p>
      This page displays the updated MEI metadata for my piece,
      <em>Cantabile in B-flat major, B.84</em>, alongside the engraved Verovio score.
      Metadata has been enriched with genre classification and licensing information.
  </p>

  <h2>MEI Metadata</h2>
  <div id="MEImeta"></div>

  <h2>Rendered Score</h2>
  <div id="app" class="panel" style="border: 1px solid lightgray; min-height: 800px;">
      Verovio is loading...
  </div>

  <h2>Discussion</h2>
  <p>
      To improve formatting, I would separate metadata into labelled fields,
      add spacing and font-weight, and disable raw block rendering. CSS could
      be used to style each element, or Javascript could restructure the
      extracted metadata into cleaner HTML panels.
  </p>

</main>

<script type="module">
    import 'https://www.verovio.org/javascript/app/verovio-app.js';

    const app = new Verovio.App(document.getElementById("app"), {
        defaultView: "responsive",
        defaultZoom: 3
    });

    fetch("../data/week7/chopin-meta.mei")
        .then(response => response.text())
        .then(text => app.loadData(text));
</script>

<script>
    var CETEI4MEI = new CETEI();
    CETEI4MEI.getHTML5("../data/week7/chopin-meta.mei", function(data) {
        var meiHead = data.querySelector("mei-meiHead");
        document.getElementById("MEImeta").appendChild(meiHead);
    });
</script>

<footer>
    <p>Score rendering: <a href="https://www.verovio.org">Verovio</a>.
       Metadata rendering: <a href="https://github.com/TEIC/CETEIcean">CETEIcean</a>.
    </p>
</footer>

</body>
</html>



